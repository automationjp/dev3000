# ========================================
# dev3000 Environment Configuration
# ========================================
# This file contains default environment variables for docker-compose.yml
# Copy this file to .env.local and customize for your environment

# ========================================
# CDP (Chrome DevTools Protocol) Configuration
# ========================================
# Enable CDP monitoring for dev3000
DEV3000_CDP=1

# CDP URL: Chrome running on host machine
# For Docker Desktop (Mac/Windows): host.docker.internal:9222
# For Linux: Use your host IP or 172.17.0.1
# For WSL2: host.docker.internal:9222 (automatically mapped)
DEV3000_CDP_URL=http://host.docker.internal:9222

# CDP Proxy: Use socat to forward localhost:9222 -> host.docker.internal:9222
# This allows dev3000 to connect via localhost, bypassing Chrome's Host header check
# Options:
#   - "socat" (recommended): Use socat proxy for localhost forwarding
#   - "direct": Connect directly to DEV3000_CDP_URL (may fail with Host header check)
#   - "" (empty): Auto-detect (same as "direct")
DEV3000_CDP_PROXY=socat

# CDP Proxy configuration (optional)
# These values have sensible defaults and usually don't need to be changed
# DEV3000_CDP_PROXY_LISTEN_PORT=9222              # Port inside container (default: 9222)
# DEV3000_CDP_PROXY_TARGET_HOST=host.docker.internal  # Host to forward to (default: auto-detected)
# DEV3000_CDP_PROXY_TARGET_PORT=9222              # Port on host (default: 9222)

# ========================================
# How CDP Proxy Works
# ========================================
# 1. Chrome runs on host: localhost:9222 (Windows/Mac/Linux)
# 2. Docker maps host.docker.internal:9222 -> host's localhost:9222
# 3. socat proxy inside container: localhost:9222 -> host.docker.internal:9222
# 4. dev3000 connects to: http://localhost:9222 (via socat)
# 5. Chrome sees connection from "localhost" -> Host header check passes ✅
# 6. WebSocket connection established ✅

# ========================================
# Node.js Configuration
# ========================================
NODE_ENV=development

# ========================================
# Next.js Configuration
# ========================================
NEXT_TELEMETRY_DISABLED=1
